(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();preact.Fragment;var J=0;function h(t,e,o,r,n,i){var c,a,u={};for(a in e)a=="ref"?c=e[a]:u[a]=e[a];var p={type:t,props:u,key:o,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--J,__i:-1,__u:0,__source:n,__self:i};if(typeof t=="function"&&(c=t.defaultProps))for(a in c)u[a]===void 0&&(u[a]=c[a]);return preact.options.vnode&&preact.options.vnode(p),p}var $,_,H,P,A=0,q=[],y=[],k=preact.options.__b,I=preact.options.__r,O=preact.options.diffed,R=preact.options.__c,w=preact.options.unmount;function D(t,e){preact.options.__h&&preact.options.__h(_,t,A||e),A=0;var o=_.__H||(_.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:y}),o.__[t]}function K(t){return A=1,Q(j,t)}function Q(t,e,o){var r=D($++,2);if(r.t=t,!r.__c&&(r.__=[o?o(e):j(void 0,e),function(a){var u=r.__N?r.__N[0]:r.__[0],p=r.t(u,a);u!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=_,!_.u)){var n=function(a,u,p){if(!r.__c.__H)return!0;var m=r.__c.__H.__.filter(function(f){return f.__c});if(m.every(function(f){return!f.__N}))return!i||i.call(this,a,u,p);var s=!1;return m.forEach(function(f){if(f.__N){var v=f.__[0];f.__=f.__N,f.__N=void 0,v!==f.__[0]&&(s=!0)}}),!(!s&&r.__c.props===a)&&(!i||i.call(this,a,u,p))};_.u=!0;var i=_.shouldComponentUpdate,c=_.componentWillUpdate;_.componentWillUpdate=function(a,u,p){if(this.__e){var m=i;i=void 0,n(a,u,p),i=m}c&&c.call(this,a,u,p)},_.shouldComponentUpdate=n}return r.__N||r.__}function V(t,e){var o=D($++,3);!preact.options.__s&&Z(o.__H,e)&&(o.__=t,o.i=e,_.__H.__h.push(o))}function X(){for(var t;t=q.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(b),t.__H.__h.forEach(C),t.__H.__h=[]}catch(e){t.__H.__h=[],preact.options.__e(e,t.__v)}}preact.options.__b=function(t){_=null,k&&k(t)},preact.options.__r=function(t){I&&I(t),$=0;var e=(_=t.__c).__H;e&&(H===_?(e.__h=[],_.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=y,o.__N=o.i=void 0})):(e.__h.forEach(b),e.__h.forEach(C),e.__h=[],$=0)),H=_},preact.options.diffed=function(t){O&&O(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(q.push(e)!==1&&P===preact.options.requestAnimationFrame||((P=preact.options.requestAnimationFrame)||Y)(X)),e.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==y&&(o.__=o.__V),o.i=void 0,o.__V=y})),H=_=null},preact.options.__c=function(t,e){e.some(function(o){try{o.__h.forEach(b),o.__h=o.__h.filter(function(r){return!r.__||C(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],preact.options.__e(r,o.__v)}}),R&&R(t,e)},preact.options.unmount=function(t){w&&w(t);var e,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(r){try{b(r)}catch(n){e=n}}),o.__H=void 0,e&&preact.options.__e(e,o.__v))};var F=typeof requestAnimationFrame=="function";function Y(t){var e,o=function(){clearTimeout(r),F&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(o,100);F&&(e=requestAnimationFrame(o))}function b(t){var e=_,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),_=e}function C(t){var e=_;t.__c=t.__(),_=e}function Z(t,e){return!t||t.length!==e.length||e.some(function(o,r){return o!==t[r]})}function j(t,e){return typeof e=="function"?e(t):e}var tt={};function g(t,e){for(var o in e)t[o]=e[o];return t}function et(t,e,o){var r,n=/(?:\?([^#]*))?(#.*)?$/,i=t.match(n),c={};if(i&&i[1])for(var a=i[1].split("&"),u=0;u<a.length;u++){var p=a[u].split("=");c[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}t=E(t.replace(n,"")),e=E(e||"");for(var m=Math.max(t.length,e.length),s=0;s<m;s++)if(e[s]&&e[s].charAt(0)===":"){var f=e[s].replace(/(^:|[+*?]+$)/g,""),v=(e[s].match(/[+*?]+$/)||tt)[0]||"",x=~v.indexOf("+"),U=~v.indexOf("*"),L=t[s]||"";if(!L&&!U&&(v.indexOf("?")<0||x)){r=!1;break}if(c[f]=decodeURIComponent(L),x||U){c[f]=t.slice(s).map(decodeURIComponent).join("/");break}}else if(e[s]!==t[s]){r=!1;break}return(o.default===!0||r!==!1)&&c}function ot(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function rt(t,e){return t.index=e,t.rank=function(o){return o.props.default?0:E(o.props.path).map(nt).join("")}(t),t.props}function E(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function nt(t){return t.charAt(0)==":"?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var it={},d=[],T=[],l=null,B={url:N()},ct=preact.createContext(B);function N(){var t;return""+((t=l&&l.location?l.location:l&&l.getCurrentLocation?l.getCurrentLocation():typeof location<"u"?location:it).pathname||"")+(t.search||"")}function at(t,e){return e===void 0&&(e=!1),typeof t!="string"&&t.url&&(e=t.replace,t=t.url),function(o){for(var r=d.length;r--;)if(d[r].canRoute(o))return!0;return!1}(t)&&function(o,r){r===void 0&&(r="push"),l&&l[r]?l[r](o):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,o)}(t,e?"replace":"push"),z(t)}function z(t){for(var e=!1,o=0;o<d.length;o++)d[o].routeTo(t)&&(e=!0);return e}function _t(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),o=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!o||o.match(/^_?self$/i)))return at(e)}}function ut(t){return t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault(),!1}function pt(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button)){var e=t.target;do if(e.localName==="a"&&e.getAttribute("href")){if(e.hasAttribute("data-native")||e.hasAttribute("native"))return;if(_t(e))return ut(t)}while(e=e.parentNode)}}var M=!1;function G(t){t.history&&(l=t.history),this.state={url:t.url||N()}}g(G.prototype=new preact.Component,{shouldComponentUpdate:function(t){return t.static!==!0||t.url!==this.props.url||t.onChange!==this.props.onChange},canRoute:function(t){var e=preact.toChildArray(this.props.children);return this.g(e,t)!==void 0},routeTo:function(t){this.setState({url:t});var e=this.canRoute(t);return this.p||this.forceUpdate(),e},componentWillMount:function(){this.p=!0},componentDidMount:function(){var t=this;M||(M=!0,l||addEventListener("popstate",function(){z(N())}),addEventListener("click",pt)),d.push(this),l&&(this.u=l.listen(function(e){var o=e.location||e;t.routeTo(""+(o.pathname||"")+(o.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),d.splice(d.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(t,e){t=t.filter(rt).sort(ot);for(var o=0;o<t.length;o++){var r=t[o],n=et(e,r.props.path,r.props);if(n)return[r,n]}},render:function(t,e){var o,r,n=t.onChange,i=e.url,c=this.c,a=this.g(preact.toChildArray(t.children),i);if(a&&(r=preact.cloneElement(a[0],g(g({url:i,matches:o=a[1]},o),{key:void 0,ref:void 0}))),i!==(c&&c.url)){g(B,c=this.c={url:i,previous:c&&c.url,current:r,path:r?r.props.path:null,matches:o}),c.router=this,c.active=r?[r]:[];for(var u=T.length;u--;)T[u]({});typeof n=="function"&&n(c)}return preact.h(ct.Provider,{value:c},r)}});var S=function(t){return preact.h(t.component,t)};const st=({matches:t})=>{const[e,o]=K("");return V(()=>{const r=t.id;fetch(`/blog/${r}.md`).then(n=>n.text()).then(async n=>{const i=await marked.marked(n);o(i)}).catch(n=>console.error("Error loading blog post:",n))},[t.id]),h("div",{dangerouslySetInnerHTML:{__html:e}})},ft=()=>{const[t,e]=K("");V(()=>{fetch(`/blog/blogList.txt?time=${Date.now()}`).then(r=>r.text()).then(r=>e(r)).catch(r=>console.error("Error loading blog list:",r))},[]);const o=t.split(`
`).map(r=>h("li",{children:h("a",{href:`/blog/${r}`,children:r})},r));return h("div",{children:[h("h1",{children:"Himanushi 雑記"}),h("ul",{children:o})]})},lt=()=>h(G,{children:[h(S,{path:"/",component:ft}),h(S,{path:"/blog/:id",component:st,default:!0})]}),W=document.getElementById("app");W!==null&&preact.render(h(lt,{}),W);
