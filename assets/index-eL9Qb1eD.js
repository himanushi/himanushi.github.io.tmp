import{options as c,h,render as U}from"preact";import w from"preact-router";import{marked as B}from"marked";(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();var v,i,H,E,g=0,q=[],m=[],b=c.__b,A=c.__r,F=c.diffed,L=c.__c,O=c.unmount;function V(e,_){c.__h&&c.__h(i,e,g||_),g=0;var t=i.__H||(i.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:m}),t.__[e]}function C(e){return g=1,S(I,e)}function S(e,_,t){var o=V(v++,2);if(o.t=e,!o.__c&&(o.__=[t?t(_):I(void 0,_),function(f){var a=o.__N?o.__N[0]:o.__[0],s=o.t(a,f);a!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){var r=function(f,a,s){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(u){return u.__c});if(d.every(function(u){return!u.__N}))return!n||n.call(this,f,a,s);var N=!1;return d.forEach(function(u){if(u.__N){var T=u.__[0];u.__=u.__N,u.__N=void 0,T!==u.__[0]&&(N=!0)}}),!(!N&&o.__c.props===f)&&(!n||n.call(this,f,a,s))};i.u=!0;var n=i.shouldComponentUpdate,l=i.componentWillUpdate;i.componentWillUpdate=function(f,a,s){if(this.__e){var d=n;n=void 0,r(f,a,s),n=d}l&&l.call(this,f,a,s)},i.shouldComponentUpdate=r}return o.__N||o.__}function M(e,_){var t=V(v++,3);!c.__s&&j(t.__H,_)&&(t.__=e,t.i=_,i.__H.__h.push(t))}function W(){for(var e;e=q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(p),e.__H.__h.forEach(y),e.__H.__h=[]}catch(_){e.__H.__h=[],c.__e(_,e.__v)}}c.__b=function(e){i=null,b&&b(e)},c.__r=function(e){A&&A(e),v=0;var _=(i=e.__c).__H;_&&(H===i?(_.__h=[],i.__h=[],_.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=m,t.__N=t.i=void 0})):(_.__h.forEach(p),_.__h.forEach(y),_.__h=[],v=0)),H=i},c.diffed=function(e){F&&F(e);var _=e.__c;_&&_.__H&&(_.__H.__h.length&&(q.push(_)!==1&&E===c.requestAnimationFrame||((E=c.requestAnimationFrame)||$)(W)),_.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==m&&(t.__=t.__V),t.i=void 0,t.__V=m})),H=i=null},c.__c=function(e,_){_.some(function(t){try{t.__h.forEach(p),t.__h=t.__h.filter(function(o){return!o.__||y(o)})}catch(o){_.some(function(r){r.__h&&(r.__h=[])}),_=[],c.__e(o,t.__v)}}),L&&L(e,_)},c.unmount=function(e){O&&O(e);var _,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(o){try{p(o)}catch(r){_=r}}),t.__H=void 0,_&&c.__e(_,t.__v))};var P=typeof requestAnimationFrame=="function";function $(e){var _,t=function(){clearTimeout(o),P&&cancelAnimationFrame(_),setTimeout(e)},o=setTimeout(t,100);P&&(_=requestAnimationFrame(t))}function p(e){var _=i,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),i=_}function y(e){var _=i;e.__c=e.__(),i=_}function j(e,_){return!e||e.length!==_.length||_.some(function(t,o){return t!==e[o]})}function I(e,_){return typeof _=="function"?_(e):_}const x=({matches:e})=>{const[_,t]=C("");return M(()=>{const o=e.id;fetch(`/blog/${o}.md`).then(r=>r.text()).then(async r=>{const n=await B(r);t(n)}).catch(r=>console.error("Error loading blog post:",r))},[e.id]),h("div",{dangerouslySetInnerHTML:{__html:_}})};function z(){return h("h1",null,"Home Page")}function K(){return h(w,null,h(z,{path:"/"}),h(x,{path:"/blog/:id",matches:{id:"default"}}))}U(h(K,null),document.getElementById("app"));
