(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var b,c,H,I,$=0,M=[],g=[],L=preact.options.__b,O=preact.options.__r,P=preact.options.diffed,k=preact.options.__c,R=preact.options.unmount;function S(t,e){preact.options.__h&&preact.options.__h(c,t,$||e),$=0;var r=c.__H||(c.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:g}),r.__[t]}function W(t){return $=1,B(K,t)}function B(t,e,r){var o=S(b++,2);if(o.t=t,!o.__c&&(o.__=[r?r(e):K(void 0,e),function(u){var _=o.__N?o.__N[0]:o.__[0],l=o.t(_,u);_!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=c,!c.u)){var n=function(u,_,l){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(s){return s.__c});if(d.every(function(s){return!s.__N}))return!i||i.call(this,u,_,l);var p=!1;return d.forEach(function(s){if(s.__N){var m=s.__[0];s.__=s.__N,s.__N=void 0,m!==s.__[0]&&(p=!0)}}),!(!p&&o.__c.props===u)&&(!i||i.call(this,u,_,l))};c.u=!0;var i=c.shouldComponentUpdate,a=c.componentWillUpdate;c.componentWillUpdate=function(u,_,l){if(this.__e){var d=i;i=void 0,n(u,_,l),i=d}a&&a.call(this,u,_,l)},c.shouldComponentUpdate=n}return o.__N||o.__}function q(t,e){var r=S(b++,3);!preact.options.__s&&J(r.__H,e)&&(r.__=t,r.i=e,c.__H.__h.push(r))}function z(){for(var t;t=M.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(y),t.__H.__h.forEach(A),t.__H.__h=[]}catch(e){t.__H.__h=[],preact.options.__e(e,t.__v)}}preact.options.__b=function(t){c=null,L&&L(t)},preact.options.__r=function(t){O&&O(t),b=0;var e=(c=t.__c).__H;e&&(H===c?(e.__h=[],c.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=g,r.__N=r.i=void 0})):(e.__h.forEach(y),e.__h.forEach(A),e.__h=[],b=0)),H=c},preact.options.diffed=function(t){P&&P(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(M.push(e)!==1&&I===preact.options.requestAnimationFrame||((I=preact.options.requestAnimationFrame)||G)(z)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==g&&(r.__=r.__V),r.i=void 0,r.__V=g})),H=c=null},preact.options.__c=function(t,e){e.some(function(r){try{r.__h.forEach(y),r.__h=r.__h.filter(function(o){return!o.__||A(o)})}catch(o){e.some(function(n){n.__h&&(n.__h=[])}),e=[],preact.options.__e(o,r.__v)}}),k&&k(t,e)},preact.options.unmount=function(t){R&&R(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(o){try{y(o)}catch(n){e=n}}),r.__H=void 0,e&&preact.options.__e(e,r.__v))};var T=typeof requestAnimationFrame=="function";function G(t){var e,r=function(){clearTimeout(o),T&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(r,100);T&&(e=requestAnimationFrame(r))}function y(t){var e=c,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),c=e}function A(t){var e=c;t.__c=t.__(),c=e}function J(t,e){return!t||t.length!==e.length||e.some(function(r,o){return r!==t[o]})}function K(t,e){return typeof e=="function"?e(t):e}var Q={};function v(t,e){for(var r in e)t[r]=e[r];return t}function X(t,e,r){var o,n=/(?:\?([^#]*))?(#.*)?$/,i=t.match(n),a={};if(i&&i[1])for(var u=i[1].split("&"),_=0;_<u.length;_++){var l=u[_].split("=");a[decodeURIComponent(l[0])]=decodeURIComponent(l.slice(1).join("="))}t=C(t.replace(n,"")),e=C(e||"");for(var d=Math.max(t.length,e.length),p=0;p<d;p++)if(e[p]&&e[p].charAt(0)===":"){var s=e[p].replace(/(^:|[+*?]+$)/g,""),m=(e[p].match(/[+*?]+$/)||Q)[0]||"",N=~m.indexOf("+"),x=~m.indexOf("*"),U=t[p]||"";if(!U&&!x&&(m.indexOf("?")<0||N)){o=!1;break}if(a[s]=decodeURIComponent(U),N||x){a[s]=t.slice(p).map(decodeURIComponent).join("/");break}}else if(e[p]!==t[p]){o=!1;break}return(r.default===!0||o!==!1)&&a}function Y(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function Z(t,e){return t.index=e,t.rank=function(r){return r.props.default?0:C(r.props.path).map(tt).join("")}(t),t.props}function C(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function tt(t){return t.charAt(0)==":"?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var et={},h=[],w=[],f=null,V={url:E()},rt=preact.createContext(V);function E(){var t;return""+((t=f&&f.location?f.location:f&&f.getCurrentLocation?f.getCurrentLocation():typeof location<"u"?location:et).pathname||"")+(t.search||"")}function ot(t,e){return e===void 0&&(e=!1),typeof t!="string"&&t.url&&(e=t.replace,t=t.url),function(r){for(var o=h.length;o--;)if(h[o].canRoute(r))return!0;return!1}(t)&&function(r,o){o===void 0&&(o="push"),f&&f[o]?f[o](r):typeof history<"u"&&history[o+"State"]&&history[o+"State"](null,null,r)}(t,e?"replace":"push"),j(t)}function j(t){for(var e=!1,r=0;r<h.length;r++)h[r].routeTo(t)&&(e=!0);return e}function nt(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),r=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return ot(e)}}function it(t){return t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault(),!1}function at(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button)){var e=t.target;do if(e.localName==="a"&&e.getAttribute("href")){if(e.hasAttribute("data-native")||e.hasAttribute("native"))return;if(nt(e))return it(t)}while(e=e.parentNode)}}var F=!1;function D(t){t.history&&(f=t.history),this.state={url:t.url||E()}}v(D.prototype=new preact.Component,{shouldComponentUpdate:function(t){return t.static!==!0||t.url!==this.props.url||t.onChange!==this.props.onChange},canRoute:function(t){var e=preact.toChildArray(this.props.children);return this.g(e,t)!==void 0},routeTo:function(t){this.setState({url:t});var e=this.canRoute(t);return this.p||this.forceUpdate(),e},componentWillMount:function(){this.p=!0},componentDidMount:function(){var t=this;F||(F=!0,f||addEventListener("popstate",function(){j(E())}),addEventListener("click",at)),h.push(this),f&&(this.u=f.listen(function(e){var r=e.location||e;t.routeTo(""+(r.pathname||"")+(r.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),h.splice(h.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(t,e){t=t.filter(Z).sort(Y);for(var r=0;r<t.length;r++){var o=t[r],n=X(e,o.props.path,o.props);if(n)return[o,n]}},render:function(t,e){var r,o,n=t.onChange,i=e.url,a=this.c,u=this.g(preact.toChildArray(t.children),i);if(u&&(o=preact.cloneElement(u[0],v(v({url:i,matches:r=u[1]},r),{key:void 0,ref:void 0}))),i!==(a&&a.url)){v(V,a=this.c={url:i,previous:a&&a.url,current:o,path:o?o.props.path:null,matches:r}),a.router=this,a.active=o?[o]:[];for(var _=w.length;_--;)w[_]({});typeof n=="function"&&n(a)}return preact.h(rt.Provider,{value:a},o)}});const ct=({matches:t})=>{const[e,r]=W("");return q(()=>{const o=t.id;fetch(`/blog/${o}.md`).then(n=>n.text()).then(async n=>{const i=await marked.marked(n);r(i)}).catch(n=>console.error("Error loading blog post:",n))},[t.id]),preact.h("div",{dangerouslySetInnerHTML:{__html:e}})},ut=()=>{const[t,e]=W("");q(()=>{fetch("/blog/blogList.txt").then(o=>o.text()).then(o=>e(o)).catch(o=>console.error("Error loading blog post:",o))},[]);const r=t.split(`
`).map(o=>preact.h("li",null,preact.h("a",{href:`/blog/${o}`},o)));return preact.h("div",null,preact.h("h1",null,"Himanushi 雑記"),preact.h("ul",null,r))},_t=()=>preact.h(D,null,preact.h(ut,{path:"/"}),preact.h(ct,{path:"/blog/:id",matches:{id:"default"}}));preact.render(preact.h(_t,null),document.getElementById("app"));
